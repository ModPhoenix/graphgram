# Auth

mutation SignUp($email: String!, $username: String!, $password: String!) {
  signUp(email: $email, username: $username, password: $password)
}

mutation SignIn($email: String!, $password: String!) {
  signIn(email: $email, password: $password)
}

query Me {
  me {
    id
    email
    username
    createdAt
    updatedAt
  }
}

# Node

fragment NodeData on Node {
  id
  name
  content
  createdAt
  updatedAt
}

query Node($where: NodeWhere!) {
  node(where: $where) {
    ...NodeData
    parents {
      ...NodeData
    }
    children {
      ...NodeData
      children {
        ...NodeData
      }
    }
  }
}

mutation CreateNode($parentId: UUID!, $name: String!, $content: String!) {
  createNode(parentId: $parentId, name: $name, content: $content) {
    ...NodeData
    parents {
      ...NodeData
    }
    children {
      ...NodeData
    }
  }
}

mutation UpdateNode($id: UUID!, $name: String!, $content: String!) {
  updateNode(id: $id, name: $name, content: $content) {
    ...NodeData
    parents {
      ...NodeData
    }
    children {
      ...NodeData
    }
  }
}

mutation DeleteNode($id: UUID!) {
  deleteNode(id: $id)
}
